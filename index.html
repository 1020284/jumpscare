<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ultimate Learning AI Assistant</title>
  <style>
    body {
      background: #111;
      color: #0f0;
      font-family: monospace;
      padding: 20px;
    }
    #command {
      width: 80%;
      padding: 10px;
      font-size: 16px;
      background: #222;
      color: #0f0;
      border: 1px solid #0f0;
    }
    #sendBtn {
      padding: 10px 20px;
      font-size: 16px;
      background: #0f0;
      color: #111;
      border: none;
      cursor: pointer;
      margin-left: 5px;
    }
    #log {
      white-space: pre-wrap;
      margin-top: 20px;
      max-height: 70vh;
      overflow-y: auto;
    }
    .highlight {
      color: cyan;
    }
  </style>
</head>
<body>
  <h1>ðŸ¤– Ultimate Learning AI Assistant</h1>
  <div>
    <input id="command" placeholder="Ask me anything or teach me..." autofocus />
    <button id="sendBtn">Send</button>
  </div>
  <div id="log"></div>

  <script>
    const input = document.getElementById('command');
    const sendBtn = document.getElementById('sendBtn');
    const log = document.getElementById('log');

    const memory = {
      name: null,
      facts: {
        gravity: "Gravity is the force that attracts objects toward one another.",
        photon: "A photon is a particle of light."
      }
    };

    let awaitingDefinition = null; // track if AI is waiting for a definition

    // Handle Enter key
    input.addEventListener('keyup', e => {
      if (e.key === 'Enter') handleCommand();
    });

    // Handle Send button
    sendBtn.addEventListener('click', handleCommand);

    function handleCommand() {
      const cmd = input.value.trim();
      if (!cmd) return;
      input.value = '';
      processCommand(cmd);
    }

    function processCommand(cmd) {
      log.innerHTML += `\n<span class="highlight">> ${cmd}</span>`;
      const lower = cmd.toLowerCase();
      let response = '';

      // If we are waiting for a definition
      if (awaitingDefinition) {
        memory.facts[awaitingDefinition] = cmd;
        response = `Thanks! Iâ€™ve learned that "${awaitingDefinition}" means "${cmd}".`;
        awaitingDefinition = null;
        log.innerHTML += `\n${response}`;
        log.scrollTop = log.scrollHeight;
        return;
      }

      // Name memory
      if (lower.startsWith('my name is')) {
        memory.name = cmd.split('is')[1].trim();
        response = `Nice to meet you, ${memory.name}!`;
      } else if (lower.includes('what is my name')) {
        response = memory.name ? `Your name is ${memory.name}.` : `I don't know your name yet.`;
      }

      // Time and date
      else if (lower.includes('time')) {
        response = 'Current time: ' + new Date().toLocaleTimeString();
      } else if (lower.includes('date')) {
        response = 'Today is: ' + new Date().toLocaleDateString();
      }

      // Math
      else if (lower.startsWith('calculate')) {
        try {
          const expr = cmd.replace(/calculate/i, '').trim();
          const result = Function('"use strict";return (' + expr + ')')();
          response = `Result: ${result}`;
        } catch {
          response = `I couldn't calculate that.`;
        }
      }

      // Teach new facts
      else if (lower.startsWith('remember that')) {
        const phrase = cmd.replace(/remember that/i, '').trim();
        const [term, meaning] = phrase.split(' is ');
        if (term && meaning) {
          memory.facts[term.trim()] = meaning.trim();
          response = `Got it. "${term.trim()}" means "${meaning.trim()}".`;
        } else {
          response = `Use the format: remember that [thing] is [definition].`;
        }
      }

      // Ask for definitions
      else if (lower.startsWith('what is')) {
        const term = lower.replace(/what is/i, '').trim();
        if (memory.facts[term]) {
          response = `"${term}" means: ${memory.facts[term]}`;
        } else {
          response = `I don't know what "${term}" means. Can you tell me?`;
          awaitingDefinition = term; // wait for user to define it
        }
      }

      // Style changes
      else if (lower.includes('change background to')) {
        const color = lower.split('change background to')[1].trim();
        document.body.style.backgroundColor = color;
        response = `Background changed to ${color}.`;
      } else if (lower.includes('change text color to')) {
        const color = lower.split('change text color to')[1].trim();
        document.body.style.color = color;
        input.style.color = color;
        input.style.borderColor = color;
        response = `Text color changed to ${color}.`;
      }

      // What do you know
      else if (lower.includes('what do you know')) {
        const terms = Object.keys(memory.facts);
        response = terms.length
          ? `I know about: ${terms.join(', ')}.`
          : `I don't know anything yet. Teach me something!`;
      }

      // Fun
      else if (lower.includes('joke')) {
        response = 'Why did the AI go to school? To improve its neural network!';
      } else if (lower.includes('who are you')) {
        response = 'Iâ€™m your personal assistant. I learn, calculate, and adapt. Just keep talking to me.';
      }

      // Unknown â†’ ask user to define
      else {
        response = `I don't understand "${cmd}". Can you tell me what it means?`;
        awaitingDefinition = cmd;
      }

      log.innerHTML += `\n${response}`;
      log.scrollTop = log.scrollHeight;
    }
  </script>
</body>
</html>
